





		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		

		
		
		



    

    
    	
    	
    	
    	
    	
	

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" /> 
<title>The need for speed on the web | Usecue web development</title>

<meta name="description" content="This is not a post about a web-version of the popular racing game title ‘Need for Speed’ by EA, although I love that game and I have wasted too many hours ra...">

<link rel="shortcut icon" type="image/png" href="/img/icon-196x196.png" />
<link rel="shortcut icon" sizes="196x196" href="/img/icon-196x196.png" />
<link rel="apple-touch-icon" href="/img/icon-196x196.png" />

<meta id="viewport" name="viewport" content="width=device-width">

<!-- Facebook and Twitter integration -->
<meta property="og:title" content="The need for speed on the web"/>

<meta property="og:url" content="https://www.usecue.com/2018/02/25/the-need-for-speed-on-the-web.html"/>
<meta property="og:type" content="article">
<meta property="og:image" content="https://www.usecue.com"/>
<meta property="og:site_name" content="Usecue web development"/>
<meta property="og:description" content="This is not a post about a web-version of the popular racing game title ‘Need for Speed’ by EA, although I love that game and I have wasted too many hours ra..."/>

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@jhvanderschee">
<meta name="twitter:title" content="The need for speed on the web" />

<meta name="twitter:url" content="https://www.usecue.com/2018/02/25/the-need-for-speed-on-the-web.html" />
<meta name="twitter:description" content="This is not a post about a web-version of the popular racing game title ‘Need for Speed’ by EA, although I love that game and I have wasted too many hours ra..." />

<link rel="publisher" href="https://plus.google.com/+UseCuewebdevelopmentAmsterdam">

<link rel="canonical" href="https://www.usecue.com/2018/02/25/the-need-for-speed-on-the-web.html">
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://www.usecue.com/sitemap.xml" />

<script src="/js/jquery-1.7.2.min.js"></script>

<link rel="stylesheet" type="text/css" href="/css/style.css">

<script>
function next() {
    if($('body').hasClass('menu')) {
        $('body').removeClass('menu');
        setTimeout(function(){next()}, 400);
        return false;
    }
    document.location.href='/2017/11/06/the-new-nokia-3310-could-give-you-your-life-back.html';
    return false;
}
function prev() {
    if($('body').hasClass('menu')) {
        $('body').removeClass('menu');
        setTimeout(function(){prev()}, 400);
        return false;
    }
    document.location.href='/2018/11/11/goodbye-google.html';
    return false;
}
var timeout;
function menu() {
    clearTimeout(timeout);
    if($('body').hasClass('menu')) {
        $('body').removeClass('menu'); 
        timeout = setTimeout(function(){$('#menu').css('z-index','-5');}, 600);
    }
    else {
        $('#menu').css('z-index','5')
        $('body').addClass('menu'); 
    }
    return false;
}
function choose(choices) {
    var index = Math.floor(Math.random() * choices.length);
    return choices[index];
}
$(document).ready( function() {
    $("#page").addClass("loaded");
    
    
    
    var choice = choose(['linux.html','firefox.html']) ;
    if (choice == 'linux.html') {
    	if($(window).width()>600) $(".element").typed({
        	strings: ["I am a ^100Linux fan.^1000", "I am an ^200UX expert.^2000", "I am a ^200programmer.^1000", "I am a ^200web developer.^500"],
        	typeSpeed: 20,
        	callback: function(){ $(".typed-cursor").css('visibility','hidden');}
    	});
    } else {
	if($(window).width()>600) $(".element").typed({
        	strings: ["I am a ^100Firefox fan.^1000", "I am an ^200UX expert.^2000", "I am a ^200programmer.^1000", "I am a ^200web developer.^500"],
        	typeSpeed: 20,
        	callback: function(){ $(".typed-cursor").css('visibility','hidden');}
    	});
    }
    
    $(window).resize();

    if (choice == 'linux.html') particlesJS("particles-js", {"particles":{"number":{"value":400,"density":{"enable":true,"value_area":800}},"color":{"value":"#fff"},"shape":{"type":"circle","stroke":{"width":0,"color":"#000000"},"polygon":{"nb_sides":5},"image":{"src":"img/github.svg","width":100,"height":100}},"opacity":{"value":0.5,"random":true,"anim":{"enable":false,"speed":1,"opacity_min":0.1,"sync":false}},"size":{"value":10,"random":true,"anim":{"enable":false,"speed":40,"size_min":0.1,"sync":false}},"line_linked":{"enable":false,"distance":500,"color":"#ffffff","opacity":0.4,"width":2},"move":{"enable":true,"speed":6,"direction":"bottom","random":false,"straight":false,"out_mode":"out","bounce":false,"attract":{"enable":false,"rotateX":600,"rotateY":1200}}},"interactivity":{"detect_on":"canvas","events":{"onhover":{"enable":false,"mode":"bubble"},"onclick":{"enable":false,"mode":"repulse"},"resize":true},"modes":{"grab":{"distance":400,"line_linked":{"opacity":0.5}},"bubble":{"distance":400,"size":4,"duration":0.3,"opacity":1,"speed":3},"repulse":{"distance":200,"duration":0.4},"push":{"particles_nb":4},"remove":{"particles_nb":2}}},"retina_detect":true});

});

$(document).keydown(function(e) {
    switch(e.which) {
        case 37: // left
        prev();
        break;

        /*case 38: // up
        break;*/

        case 39: // right
        next();
        break;

        /*case 40: // down
        break;*/

        default: return; // exit this handler for other keys
    }
    e.preventDefault(); // prevent the default action (scroll / move caret)

});

function endloading() {
	$("iframe").css('opacity','1');
    $("#imgoverlay").css('opacity','0.7');
    $("#textcell").css('opacity','1');
    $("#loading").css('opacity','0');
}

$(window).resize( function() {
    if($(window).width()>1329) {
        var trianglewidth = ($(window).width()-1100)/2;
    } else {
        var trianglewidth = ($(window).width()-770)/2;
    }
    if(trianglewidth<0) trianglewidth = 0;
    $('#backgroundtriangle').css('height',$(window).height()+'px');
    $('#triangle-topleft').css('border-top-width',$(window).height()+'px');
    $('#backgroundtriangle').css('width',trianglewidth+'px');
    $('#triangle-topleft').css('border-right-width',trianglewidth+'px');
	
    if (screen.width < 330) {
	  document.getElementById("viewport").setAttribute("content", "width=330");
	}
    else { 
      document.getElementById("viewport").setAttribute("content", "width=device-width");
    }
    if($(window).width()<600) {
        $('#title').css('margin-top','45px');
        //var extramargin = $('body').height() - ($('#content').height()-35);
        //if (extramargin>45) $('#title').css('margin-top',extramargin+'px');
        //else $('#title').css('margin-top','45px');
    }
    
});

</script>
</head>

<body id="body" style="background-color: ;" class="post">
	<div id="particles-js"></div>
	
    
    <div class="outercontent"><div class="content">
        
    <div id="innercontrols" class="showmobile">
        <a href="#" onclick="menu();" id="openmenu"><img src="/img/menu2.png" class="black" alt="menu" /><img src="/img/menu.png" class="white" alt="menu" /></a>
        <a href="#" onclick="menu();" id="closemenu"><img src="/img/close2.png" class="black" alt="close" /><img src="/img/close.png" class="white" alt="close" /></a>
        
        <a href="#" onclick="prev();"><img src="/img/back2.png" class="black"  alt="previous" /><img src="/img/back.png" class="white" alt="previous" /></a>
        <a href="#" onclick="next();"><img src="/img/next2.png" class="black" alt="next" /><img src="/img/next.png" class="white" alt="next" /></a>
        
    </div>

    <div class="innercontent">


<h3>25.02.2018</h3>
<h1>The need for speed on the web</h1>

<div data-cms-content-wrapper="/_layouts/post.html">
<p>This is not a post about a web-version of the popular racing game title ‘<a href="https://en.wikipedia.org/wiki/Need_for_Speed">Need for Speed</a>’ by EA, although I love that game and I have wasted too many hours racing through dark cities and endless highways, followed by a police squadron. This article is about something else: The speed of the internet and specifically the speed at which your website loads.</p>

<p>Equally exciting, but far more important, as website speed is a big success factor. More than 20 years after Neilson Norman Group posted an article with <a href="https://www.nngroup.com/articles/the-need-for-speed/">a similar title</a> and similar content. Althought the online world has changed significantly in the meantime, this subject is still relevant. Allow me to explain why.</p>

<h2 id="impatient-visitors">Impatient visitors</h2>

<p>Research on e-commerce websites shows that <a href="https://blog.kissmetrics.com/seo-for-ecommerce-websites/">40 percent</a> of consumers will wait no more than three seconds for a web page to render before abandoning the site. The avarage loading time of websites is currently <a href="https://research.hubspot.com/reports/does-your-website-make-the-grade">3.7 seconds</a>. Mobile traffic has an increased <a href="https://www.techopedia.com/definition/8553/network-latency">latency</a> of <a href="https://phabricator.wikimedia.org/phame/live/7/post/83/measuring_wikipedia_page_load_times/">about 200ms</a>, making your website even slower. We also know that the percentage mobile traffic is growing steadily. This means that already OVER 50% of the websites fails to render within three seconds (and is losing visitors). As a consequence of the rising percentage of mobile traffic this number is expected to only increase.</p>

<h2 id="better-ranking">Better ranking</h2>

<p>A slow website has another problem: It might not reach that first page or position in Google. Google <a href="https://yoast.com/site-speed-tools-suggestions/">penalizes</a> slow websites. They have been doing this <a href="https://searchengineland.com/google-says-page-speed-ranking-factor-use-mobile-page-speed-mobile-sites-upcoming-months-250874">since 2010</a>. From <a href="https://searchengineland.com/google-speed-update-page-speed-will-become-ranking-factor-mobile-search-289904">July 2018</a> speed will actually be a ranking factor in mobile search too. This makes improving the speed of your website an important search engine optimization for all platforms.</p>

<h2 id="improved-conversion">Improved conversion</h2>

<p>Examples <a href="https://blog.hubspot.com/marketing/page-load-time-conversion-rates">show</a> that speedy websites have more conversion than slow websites. On a fast website visitors will be <a href="https://blog.radware.com/applicationdelivery/wpo/2014/04/web-page-speed-affect-conversions-infographic/">more likely</a> to fill out an order form, enter contact details or subscribe to an email newsletter. Making your website faster can easily result in a <a href="http://www.webperformancetoday.com/2010/07/01/the-best-graphs-of-velocity/">20% conversion increase</a>.</p>

<h2 id="improved-ux">Improved UX</h2>

<p>Slow websites makes visitors frustrated and angry. That negative feeling is <a href="https://velocitize.com/2017/03/27/how-site-speed-impacts-your-seo-and-ux/">associated</a> with your brand. People <a href="https://www.nngroup.com/articles/website-response-times/">remember</a> a slow website. A quick website, however, means a better experience and <a href="https://www.nngroup.com/articles/website-response-times/">more engagement</a>. Quicker page loads mean better UX.</p>

<h2 id="speed-matters">Speed matters</h2>

<p>As you can see, speed is a big factor in the success of your website. Your website will rank better, have more visitors, more conversion and a better experience. The value of your website is directly related to its speed. <a href="https://www.youtube.com/watch/OlbJKOWEPEM">Speed really matters.</a></p>

<h2 id="a-real-life-example">A real-life example</h2>

<p>Let us look at at a responsive retina-ready one-page website, with custom fonts, a lot of imagery and javascript, that looks like this:</p>

<p><img src="/uploads/speedexample.jpg" alt="" /></p>

<p>This page is only 1 megabyte large and load in <a href="https://gtmetrix.com/reports/pink-fjord.cloudvent.net/trXljyaE">0.6 seconds</a>, as reported by <a href="https://gtmetrix.com/">GT Metrix</a>. Note that this means it still requires 4 seconds on 3G, according to the <a href="https://testmysite.withgoogle.com/intl/gb-int">Google mobile speed tester for 3G</a>. Luckily, most people surf on 4G today, but is shows that websites are not easily fast enough.</p>

<h2 id="anlyzing-and-optimzing-speed">Anlyzing and optimzing speed</h2>

<p>You can get some valuable advice from independent speed analysis tools like <a href="https://gtmetrix.com/">GT Metrix</a>, <a href="https://developers.google.com/web/tools/lighthouse/">Google Lighthouse</a> and the <a href="https://testmysite.withgoogle.com/intl/gb-int">Google mobile speed tester for 3G</a>. They will give you the numbers and tell you exactly how to make your web page faster. Need more help? Do not hesitate to <a href="/contact">ask</a>.</p>

</div>



<div id="title" class="showmobile">Usecue <span>&nbsp;web development</span></div>

</div></div></div>
	
	<div id="menu"><div class="outercontent"><div class="content">
		    <a href="/">home.</a><br />
		    <a href="/about-me/">about me.</a><br />
		    <a href="/portfolio/">portfolio.</a><br />
		    <a href="/blog/">blog.</a><br />
		    <a href="/contact/">contact.</a><br />		
  </div></div></div>


<div id="controls" class="showdesktop post">
	<div id="innercontrols">
		<a href="#" onclick="menu();" id="openmenu"><img src="/img/menu2.png" class="black" alt="menu" /><img src="/img/menu.png" class="white" alt="menu" /></a>
		<a href="#" onclick="menu();" id="closemenu"><img src="/img/close2.png" class="black" alt="close" /><img src="/img/close.png" class="white" alt="close" /></a>
		
    <a href="#" onclick="prev();"><img src="/img/back2.png" class="black" alt="previous" /><img src="/img/back.png" class="white" alt="previous" /></a>
		<a href="#" onclick="next();"><img src="/img/next2.png" class="black" alt="next" /><img src="/img/next.png" class="white" alt="next" /></a>
    
	</div>
	<div id="title" class="showdesktop">Usecue <span>&nbsp;web development</span></div>
</div>
    <script>
    //open external links in a new window
    function externalLinks() {
      for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
        var b = c[a];
        b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
      }
    }
    externalLinks();
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1168883-1', 'auto');
  ga('send', 'pageview');

</script>

<style>
.videoWrapper {
    position: relative;
    padding-bottom: 56.333%;
    height: 0;
    background: black;
}
.videoWrapper iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}    
</style>

<script>
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
        url: 'https://vimeo.com/api/oembed.json?url='+url,
        async: true,
        success: function(response) {
        if(response.video_id) {
            id = response.video_id;
            if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
            if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
            var theInnerHTML = '<div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+id+'/?byline=0&title=0&portrait=0';
            if(autoplay==1) theInnerHTML += '&autoplay=1';
            if(loop==1) theInnerHTML += '&loop=1';
            theInnerHTML += '" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; 
            el.innerHTML = theInnerHTML;
        }
        }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf("http://") == 0 ||
            p[i].innerHTML.indexOf("https://") == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '<div class="videoWrapper"><iframe width="720" height="420" src="https://www.youtube.com/embed/' + youtube_id + '?rel=0&showinfo=0';
                if(autoplay==1) theInnerHTML += '&autoplay=1';
                if(loop==1) theInnerHTML += '&loop=1&playlist='+youtube_id+'&version=3';
                theInnerHTML += '" frameborder="0" allowfullscreen></iframe></div>';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i < p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&','').replace('&','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 && str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '<audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '><source src="'+str[0]+'" type="audio/mpeg">Your browser does not support the audio element.</audio>';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
</script>
<style>
.lightbox {width: 100%; height: 100%; position: fixed; top: 0; left: 0; background: rgba(0,0,0,0.85); z-index: 9999999; line-height: 0; cursor: pointer;}
.lightbox img {
	position: relative; 
	top: 50%;
	left: 50%;
	-ms-transform: translateX(-50%) translateY(-50%);
	-webkit-transform: translate(-50%,-50%);
	transform: translate(-50%,-50%);
	max-width: 100%;
	max-height: 100%;
}
@media screen and (min-width: 1200px) {
    .lightbox img {
		max-width: 1200px;
    }
}
@media screen and (min-height: 1200px) {
    .lightbox img {
		max-height: 1200px;
	}
}
.lightbox span {display: block; position: fixed; bottom: 13px; height: 1.5em; line-height: 1.4em; width: 100%; text-align: center; color: white; text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000;  
}

.lightbox span {display: none;}




.lightbox .videoWrapperContainer {
	position: relative; 
	top: 50%;
	left: 50%;
	-ms-transform: translateX(-50%) translateY(-50%);
	-webkit-transform: translate(-50%,-50%);
	transform: translate(-50%,-50%);
	max-width: 900px;
	max-height: 100%;
}
.lightbox .videoWrapperContainer .videoWrapper {
	height: 0;
	line-height: 0;
	margin: 0;
	padding: 0;
	position: relative;
	padding-bottom: 56.333%; /* custom */
	background: black;
} 
.lightbox .videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	border: 0;
	display: block;
}   
.lightbox #prev, .lightbox #next {height: 50px; line-height: 36px; display: none; margin-top: -25px; position: fixed; top: 50%; padding: 0 15px; cursor: pointer; text-decoration: none; z-index: 99; color: white; font-size: 60px;}
.lightbox.gallery #prev, .lightbox.gallery #next {display: block;}
.lightbox #prev {left: 0;}
.lightbox #next {right: 0;}
.lightbox #close {height: 50px; width: 50px; position: fixed; cursor: pointer; text-decoration: none; z-index: 99; right: 0; top: 0;}
.lightbox #close:after, .lightbox #close:before {position: absolute; margin-top: 22px; margin-left: 14px; content: ""; height: 3px; background: white; width: 23px;
-webkit-transform-origin: 50% 50%;
-moz-transform-origin: 50% 50%;
-o-transform-origin: 50% 50%;
transform-origin: 50% 50%;
/* Safari */
-webkit-transform: rotate(-45deg);
/* Firefox */
-moz-transform: rotate(-45deg);
/* IE */
-ms-transform: rotate(-45deg);
/* Opera */
-o-transform: rotate(-45deg);
}
.lightbox #close:after {
/* Safari */
-webkit-transform: rotate(45deg);
/* Firefox */
-moz-transform: rotate(45deg);
/* IE */
-ms-transform: rotate(45deg);
/* Opera */
-o-transform: rotate(45deg);
}
.lightbox, .lightbox * {
    -webkit-user-select: none;  
    -moz-user-select: none;    
    -ms-user-select: none;      
    user-select: none;
}
</style>
		
<script>
function is_youtubelink(url) {
  var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
  return (url.match(p)) ? RegExp.$1 : false;
}
function is_imagelink(url) {
	var p = /([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i;
	return (url.match(p)) ? true : false;
}
function is_vimeolink(url,el) {
	var id = false;
	$.ajax({
	  url: 'https://vimeo.com/api/oembed.json?url='+url,
	  async: true,
	  success: function(response) {
		if(response.video_id) {
		  id = response.video_id;
		  $(el).addClass('lightbox-vimeo').attr('data-id',id);
		}
	  }
	});
}

$(document).ready(function() {
	//add classes to links to be able to initiate lightboxes
	$("a").each(function(){
		var url = $(this).attr('href');
		if(url) {
			if(url.indexOf('vimeo') !== -1 && !$(this).hasClass('no-lightbox')) is_vimeolink(url,$(this));
			if(is_youtubelink(url) && !$(this).hasClass('no-lightbox')) $(this).addClass('lightbox-youtube').attr('data-id',is_youtubelink(url));
			if(is_imagelink(url) && !$(this).hasClass('no-lightbox')) {
				$(this).addClass('lightbox-image');
				var href = $(this).attr('href');
				var filename = href.split('/').pop();
				var split = filename.split(".");
				var name = split[0];
				$(this).attr('title',name);
			}
		}
	});
	//remove the clicked lightbox
	$("body").on("click", ".lightbox", function(event){
		if($(this).hasClass('gallery')) {
			$(this).remove();
			if($(event.target).attr('id')=='next') {
				//next item
				if($("a.gallery.current").nextAll("a.gallery:first").length) $("a.gallery.current").nextAll("a.gallery:first").click();
				else $("a.gallery.current").parent().find("a.gallery").first().click();
			}
			else if ($(event.target).attr('id')=='prev') {
				//prev item
				if($("a.gallery.current").prevAll("a.gallery:first").length) $("a.gallery.current").prevAll("a.gallery:first").click();
				else $("a.gallery.current").parent().find("a.gallery").last().click();
			}
			else {
				$("a.gallery").removeClass('gallery');
			}
		}
		else $(this).remove();
	});
	//prevent image from being draggable (for swipe)
	$("body").on('dragstart', ".lightbox img", function(event) { event.preventDefault(); });
	//add the youtube lightbox on click
	$("a.lightbox-youtube").click(function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://www.youtube.com/embed/'+$(this).attr('data-id')+'?autoplay=1&showinfo=0&rel=0"></iframe></div></div></div>').appendTo('body');
	});
	//add the image lightbox on click
	$("a.lightbox-image").click(function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><img src="'+$(this).attr('href')+'" alt="'+$(this).attr('title')+'" title="'+$(this).attr('title')+'" /><span>'+$(this).attr('title')+'</span></div>').appendTo('body');
	});
	//add the vimeo lightbox on click
	$("body").on("click", "a.lightbox-vimeo", function(event){
		event.preventDefault();
		$('<div class="lightbox"><a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+$(this).attr('data-id')+'/?autoplay=1&byline=0&title=0&portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div></div>').appendTo('body');
	});

	$("body").on("click", "a[class*='lightbox-']", function(){
		var link_elements = $(this).parent().find("a[class*='lightbox-']");
		$(link_elements).removeClass('current');
		for (var i=0; i<link_elements.length; i++) {
			if($(this).attr('href') == $(link_elements[i]).attr('href')) {
				$(link_elements[i]).addClass('current');
			}
		}
		if(link_elements.length>1) {
			$('.lightbox').addClass('gallery');
			$(link_elements).addClass('gallery');
		}
	});

	
});

$(document).keydown(function(e) {
    switch(e.which) {
        case 37: // left
        $("#prev").click();
        break;
        case 39: // right
        $("#next").click();
        break;
	case 27: // esc
        $("#close").click();
        break;
        default: return; // exit this handler for other keys
    }
    e.preventDefault(); // prevent the default action (scroll / move caret)
});

  /*===========================
  Swipe-it v1.4.1
  An event listener for swiping gestures with vanilla js.
  https://github.com/tri613/swipe-it#readme
 
  @Create 2016/09/22
  @Update 2017/08/11
  @Author Trina Lu
  ===========================*/
  "use strict";var _slicedToArray=function(){function n(n,t){var e=[],i=!0,o=!1,r=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done)&&(e.push(u.value),!t||e.length!==t);i=!0);}catch(n){o=!0,r=n}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(n,t,e){function i(n){function e(){o("touchstart",m,w),o("touchmove",d,w),o("touchend",p,w),E.mouseEvent&&o("mousedown",s,w)}function i(){y=!1,D=!1,A=!1,b=!1,a=!1}function s(n){a=this,y=n.clientX,D=n.clientY,o("mousemove",l,v),o("mouseup",h,v)}function l(n){n.preventDefault(),y&&D&&(A=n.clientX,b=n.clientY)}function h(n){r("mousemove",l,v),r("mouseup",h,v),p(n)}function m(n){a=this,y=n.touches[0].clientX,D=n.touches[0].clientY}function d(n){A=n.touches[0].clientX,b=n.touches[0].clientY}function p(n){if(y&&D&&A&&b){var t=y-A,e=D-b,o=[t,e].map(Math.abs),r=_slicedToArray(o,2),c=r[0],s=r[1],v=E.minDistance;if(c>v){var f=y<A?"swipeRight":"swipeLeft";u(f,a,{distance:t,start:y,end:A})}if(s>v){var l=D>b?"swipeUp":"swipeDown";u(l,a,{distance:e,start:D,end:b})}(c>v||s>v)&&u("swipe",a)}i()}var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=c(t.querySelectorAll(n)),y=void 0,D=void 0,A=void 0,b=void 0;E.mouseEvent=void 0===E.mouseEvent?f.mouseEvent:E.mouseEvent,E.minDistance=void 0===E.minDistance?f.minDistance:E.minDistance,i(),e(),this.on=function(n,t){return o(n,t,w),this}}function o(n,t,e){s(e).forEach(function(e){return e.addEventListener(n,t)})}function r(n,t,e){s(e).forEach(function(e){return e.removeEventListener(n,t)})}function u(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.createEvent("Event");o.initEvent(n,!0,!0),o.swipe=i,s(e).forEach(function(n){return n.dispatchEvent(o)})}function c(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e]);return t}function s(n){return Array.isArray(n)?n:[n]}var a=!1,v=[n],f={mouseEvent:!0,minDistance:30};n[e]=i}(window,document,"SwipeIt");

var mySwipeIt = new SwipeIt('body');
mySwipeIt.on('swipeLeft',function(e){
	//check if lightbox is present
	if($('.lightbox').length >  0 ) {
		$("#next").click();
	}
}).on('swipeRight',function(e){
	//check if lightbox is present
	if($('.lightbox').length >  0 ) {
		$("#prev").click();
	}
});
</script>

</body>

</html>