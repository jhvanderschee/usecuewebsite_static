
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" /> 

<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--    ... ...   ....    ....    ....  ... ...    ....                                       -->
<!--     ||  ||  ||. '  .|...|| .|   ''  ||  ||  .|...||                                      -->
<!--     ||  ||  . '|.. ||      ||       ||  ||  ||                                           -->
<!--     '|..'|. |'..|'  '|...'  '|...'  '|..'|.  '|...'    w e b    d e v e l o p m e n t    -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--    .-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-.             -->
<!--    |                                                                       |             -->
<!--    |                                                                       |             -->
<!--    |                  - = Google Lighthouse Score = -                      |             -->
<!--    |                                                                       |             -->
<!--    |                                                                       |             -->
<!--    !         Performance:    100            Best Practices:  100           !             -->
<!--    :         Accessibility:  100            SEO:             100           :             -->
<!--    :                                                                       :             -->
<!--    .                                                                       .             -->
<!--    .                  First Contentful Paint:   1.0 s                      .             -->
<!--    :                  First Meaningful Paint:   1.0 s                      :             -->
<!--    :                  Speed Index:              1.8 s                      :             -->
<!--    !                  First CPU Idle:           1.0 s                      !             -->
<!--    |                  Time to Interactive:      1.0 s                      |             -->
<!--    |                  Estimated Input Latency:  10 ms                      |             -->
<!--    |                                                                       |             -->
<!--    |                                                                       |             -->
<!--    `-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-'             -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                       Last audit: Apr 2, 2020 7:42 PM                                    -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->
<!--                                                                                          -->

<title>Monkey business with banana leafs | Usecue web development</title>

<meta name="description" content="My website is 40kb large and loads instantly. That is great, but it used to be pretty spartan looking. To fix this, I added some images of banana leafs. But ...">

<link rel="shortcut icon" type="image/png" href="/img/icon-196x196.png" />
<link rel="shortcut icon" sizes="196x196" href="/img/icon-196x196.png" />
<link rel="apple-touch-icon" href="/img/icon-196x196.png" />

<meta id="viewport" name="viewport" content="width=device-width">

<!-- Facebook and Twitter integration -->
<meta property="og:title" content="Monkey business with banana leafs"/>

<meta property="og:url" content="https://www.usecue.com/blog/monkey-business-with-banana-leafs/"/>
<meta property="og:type" content="article">
<meta property="og:site_name" content="Usecue web development"/>
<meta property="og:description" content="My website is 40kb large and loads instantly. That is great, but it used to be pretty spartan looking. To fix this, I added some images of banana leafs. But ..."/>

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@jhvanderschee">
<meta name="twitter:title" content="Monkey business with banana leafs" />

<meta name="twitter:url" content="https://www.usecue.com/blog/monkey-business-with-banana-leafs/" />
<meta name="twitter:description" content="My website is 40kb large and loads instantly. That is great, but it used to be pretty spartan looking. To fix this, I added some images of banana leafs. But ..." />

<link rel="publisher" href="https://plus.google.com/+UseCuewebdevelopmentAmsterdam">

<link rel="canonical" href="https://www.usecue.com/blog/monkey-business-with-banana-leafs/">
<link rel="sitemap" type="application/xml" title="Sitemap" href="https://www.usecue.com/sitemap.xml" />

<link rel="stylesheet" type="text/css" href="/css/style.css">

</head>

<body id="top" class="post en" style="">

  <script>
    if (localStorage.getItem('mode') == 'dark') document.getElementById('top').classList.add('darkmode'); 
    if (localStorage.getItem('mode') == 'light') document.getElementById('top').classList.add('lightmode'); 
  </script>

  
  
    <a id="logo" href="/" style=""><img src="/img/icon-196x196.png" alt="Usecue logo" /></a>

    <ul id="menu">
        
          <li><a href="/about/">About</a></li>
          <li><a href="/portfolio/de-babywegwijzer/">Portfolio</a></li>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/contact/">Contact</a></li>
        
    </ul>

    <div id="innerbody">
        <div id="content">


<div class="fullscreen">
    <h1 class="large"><div id="postdate" class="small">October  4, 2020</div>Monkey business with banana leafs</h1>
</div>
<div id="scrolldown"></div>

<p>My website is 40kb large and <a href="/blog/websites-that-load-instantly/">loads instantly</a>. That is great, but it used to be pretty spartan looking.</p>

<p>To fix this, I added some images of banana leafs. But even when I converted them to SVG, they were still many times larger than my full website. That was very bad for page load times and did not fit my (relatively new) reputation as a performance expert. As I recently got international attention for creating fast loading websites, I did not want to compromise on the performance. So, if I wanted to keep these images, I had to come up with a plan.</p>

<p>I needed some sort of lazy loading. Lazy loading can be a huge boost to your <a href="/blog/google-lighthouse-score/">performance score</a>. Unfortunately, lazy loading only affects images that are off-screen. These images need to be on-screen. Therefore, lazy loading has no effect. But what if I could tell the difference between a human visit and a visit by a performance bot? Then I could load these images only for human visitors. A plan that resembles <a href="https://en.wikipedia.org/wiki/Volkswagen_emissions_scandal">Volkswagen’s diesel cars that can detect an emission test</a>. This plan turned out to be relatively easy to execute.</p>

<p>All I had to do is to put a listener on touch, scroll and click events. Performance bots do not fire these events. Once the event fires, we know the visitor is human and we can load the images. The only problem is that it may take a while before a user interacts with the page for the first time. Therefore you need a nice entrance animation, as you can see on this page. I use local storage to store that the visitor is ‘human’. This allows me to load the images directly on subsequent page loads. The animation then just functions as a nice way to build up the page.</p>

<p>Is this cheating? Yes and no. Yes, because we provide the test tool with different content than humans. No, because initially the page is fully interactive after loading the smaller version and the additions are only decorative and loaded asynchronous. You could look at it as a form of progressive enhancement. Because we load the images directly on subsequent page loads, these pages may actually be slower. However, we can be pretty certain that we are loading cached images in that case, which minimizes this slowdown to almost none/zero.</p>

<p>Google does not just use <a href="https://raygun.com/blog/synthetic-testing/">synthetic testing</a> (also known as lab data) to score your website, but is using more and more field data. This data is collected in the <a href="https://developers.google.com/web/tools/chrome-user-experience-report/">Chrome User Experience Report (CrUX)</a> and provides metrics showing how real-world Chrome users (in other words: humans) experience popular destinations on the web. The question arises how this strategy holds up in CrUX report. First of all, not all websites are scored by field data, but those that are will most likely not score noticably worse. Even in a real-world situation (an actual ‘human’ visit) the website will report a ‘fully loaded’ state before the additional images are loaded. The extra load after human interaction will probably not be reported. On subsequent pages these images have already been cached, as argued before. Therefore, they will not lead to significantly slower loading times.</p>

<p>So, are we cheating? Maybe a little. But is it smart? I do think so…</p>

<p>What do you think?</p>








        </div>
        
        
        
            
            <a id="nextlink" href="/blog/multilingual-jekyll-websites/">next<span class="desktop">: Multilingual Jekyll websites</span><span class="mobile"> blog post</span></a>
            <a id="nextlinktop" href="/blog/multilingual-jekyll-websites/">next post</a>
            <a id="prevlinktop" href="/blog/usecues-also-known-as-affordances/">previous post</a>
        
        <a id="scrolltotop" href="#top">Scroll to top</a>
        <a id="lightmode" href="#" onclick="toggleLightmode()" title="change color"></a>
    </div>
    
    <div id="darkmodeoverlay"></div>

    <div id="lightbox"></div>
    <script src="/js/javascript.js"></script>


</body>

</html>